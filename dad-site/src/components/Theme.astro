<!-- Global color themes -->
<div class="themes">
  <input type="checkbox" class="chk" />
  <div class="menu">
    <select id="themeSelect" onchange="localStorage.setItem('theme', this.value);">
      <option id="lighterTheme">Blue 0</option>
      <option id="lightTheme">Blue 1</option>
      <option id="paleTheme">Blue 2</option>
      <option id="pureTheme">Blue 3</option>
      <option id="mediumTheme">Blue 4</option>
      <option id="darkTheme">Blue 5</option>
      <option id="navyTheme">Blue 6</option>
      <option id="midnightTheme">Blue 7</option>
    </select>
  </div>
  <svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 409.952 409.952" xml:space="preserve">
    <path d="M298.809,287.873c-21.789,31.978-47.21,63.656-70.192,87.398c-8.04,8.306-15.595,15.467-22.582,21.418
     c68.588-1.306,133.022-38.713,97.567-101.286C302.02,292.817,300.42,290.313,298.809,287.873z"></path>
    <path d="M145.994,320.097c0-15.807,12.813-28.629,28.627-28.629c2.075,0,4.097,0.227,6.047,0.646
     c11.107-20.724,23.954-42.066,37.637-62.407c10.651-15.833,20.518-29.121,29.712-39.999c-1.568-16.001-0.427-35.044,4.534-58.906
     C277.598,10.335,72.483-74.035,12.371,120.624C-24.844,240.855,23.82,331.027,132.598,382.553c3.719,1.727,7.566,3.29,11.516,4.693
     c1.009-11.445,5.235-26.422,12.644-44.788C150.198,337.214,145.994,329.15,145.994,320.097z M48.927,180.699
     c0-15.814,12.816-28.631,28.628-28.631c15.807,0,28.627,12.816,28.627,28.631c0,15.806-12.82,28.628-28.627,28.628
     C61.744,209.327,48.927,196.504,48.927,180.699z M101.888,291.468c-15.813,0-28.629-12.813-28.629-28.621
     c0-15.815,12.815-28.631,28.629-28.631c15.808,0,28.629,12.816,28.629,28.631C130.517,278.656,117.696,291.468,101.888,291.468z
      M125.526,81.94c0-20.144,16.335-36.477,36.477-36.477s36.47,16.333,36.47,36.477c0,20.142-16.328,36.472-36.47,36.472
     S125.526,102.081,125.526,81.94z"></path>
    <path d="M302.786,188.889c-0.002-0.001-0.004-0.003-0.01-0.004c-7.165-4.599-13.028-10.495-17.39-17.188
     c-14.295,9.836-32.436,29.769-56.31,65.258c-48.85,72.619-84.946,155.684-68.009,166.78c1.276,0.837,2.821,1.241,4.601,1.241
     c21.834,0,79.571-60.683,124.735-127.83c24.781-36.836,36.322-61.56,39.475-78.436c-4.906-0.693-9.994-1.996-15.294-3.951
     C310.437,193.225,306.465,191.251,302.786,188.889z"></path>
    <path d="M409.74,71.642c-0.945-4.321-4.855-7.356-9.268-7.18c-35.358,1.318-63.614,8.195-83.984,20.439
     c-23.171,13.928-30.309,31.113-32.218,43.076c-1.46,9.152-0.262,18.284,3.097,26.596c5.57,13.788,17.089,25.318,32.309,30.936
     c7.983,2.947,15.178,4.38,21.995,4.38c0,0,0,0,0,0c1.034,0,2.062-0.037,3.083-0.105c7.742-0.513,15.119-2.963,21.971-7.309
     c20.418-12.952,18.702-34.235,17.188-53.012c-1.884-23.374-1.906-38.169,20.402-47.428C408.401,80.34,410.685,75.963,409.74,71.642
     z"></path>
  </svg>
</div>
<style>
  .themes {
    isolation: isolate;
  }

  .chk {
    opacity: 0;
    cursor: pointer;
    scale: 3;
    position: absolute;
    right: 0.75rem;
    top: 0.75rem;
    padding-left: 2rem;
  }

  .chk:checked ~ svg {
    fill: var(--color-accent);
  }

  .chk:checked + .menu {
    display: flex;
  }

  .menu {
    display: none;
    flex-direction: column;
    background-color: var(--color-bg-alt);
    gap: 0.5rem;
    padding: 0.5rem;
    position: absolute;
    top: 3rem;
    right: 0rem;
    border-radius: 0 0 0 0.5rem;
  }

  svg {
    position: absolute;
    width: 1.6rem;
    height: 1.6rem;
    fill: var(--color-text);
    right: 0.1rem;
    top: 0.25rem;
    padding: 0.5rem;
    z-index: -1;
  }

  .chk:hover ~ svg {
    fill: var(--color-accent);
  }

  select {
    cursor: pointer;
    padding: 0.5rem;
    border-radius: 0.25rem;
    background-color: var(--color-bg-alt);
    color: var(--color-text);
    font-size: medium;
    border: 1px solid var(--color-text);
    height: 2.5rem;
  }
</style>
<style is:global>

:root:has(#lighterTheme:checked) {
    --color-bg: white;
    --color-bg-alt: #ddd;
    --color-border: black;
    --color-border-alt: black;
    --color-text: black;
    --color-text-alt: #bbb;
    --color-accent: dodgerblue;
    --color-accent-alt: dodgerblue;
  }

:root:has(#lightTheme:checked) {
    --color-bg: white;
    --color-bg-alt: #ddd;
    --color-border: black;
    --color-border-alt: black;
    --color-text: black;
    --color-text-alt: #bbb;
    --color-accent: rgb(20, 110, 245);
    --color-accent-alt: rgb(20, 110, 245);;
  }

  :root:has(#paleTheme:checked) {
    --color-bg: white;
    --color-bg-alt: #ddd;
    --color-border: black;
    --color-border-alt: black;
    --color-text: black;
    --color-text-alt: #bbb;
    --color-accent: rgb(40, 85, 255);
    --color-accent-alt: rgb(40, 85, 255);
  }

  :root:has(#pureTheme:checked) {
    --color-bg: white;
    --color-bg-alt: #ddd;
    --color-border: black;
    --color-border-alt: black;
    --color-text: black;
    --color-text-alt: #bbb;
    --color-accent: blue;
    --color-accent-alt: blue;
  }

  /* :root:has(#pureTheme:checked) {
    --color-bg: white;
    --color-bg-alt: #ddd;
    --color-border: black;
    --color-border-alt: black;
    --color-text: black;
    --color-text-alt: #bbb;
    --color-accent: blue;
    --color-accent-alt: blue;
  } */

  :root:has(#mediumTheme:checked) {
    --color-bg: white;
    --color-bg-alt: #ddd;
    --color-border: black;
    --color-border-alt: black;
    --color-text: black;
    --color-text-alt: #bbb;
    --color-accent: mediumblue;
    --color-accent-alt: mediumblue;
  }

  :root:has(#darkTheme:checked) {
    --color-bg: white;
    --color-bg-alt: #ddd;
    --color-border: black;
    --color-border-alt: black;
    --color-text: black;
    --color-text-alt: #bbb;
    --color-accent: darkblue;
    --color-accent-alt: darkblue;
  }

  :root:has(#navyTheme:checked) {
    --color-bg: white;
    --color-bg-alt: #ddd;
    --color-border: black;
    --color-border-alt: black;
    --color-text: black;
    --color-text-alt: #bbb;
    --color-accent: navy;
    --color-accent-alt: navy;
  }

  :root:has(#midnightTheme:checked) {
    --color-bg: white;
    --color-bg-alt: #ddd;
    --color-border: black;
    --color-border-alt: black;
    --color-text: black;
    --color-text-alt: #bbb;
    --color-accent: midnightblue;
    --color-accent-alt: midnightblue;
  }

</style>
<script>
  function loadTheme() {
    // console.log("hello theme");
    const theme = localStorage.getItem("theme");
    // console.log(theme);
    if (theme === null || theme === "") {
      return "darkTheme";
    }
    const sel = document.getElementById("themeSelect") as HTMLSelectElement | null;
    // console.log(chk);
    if (sel === null) {
      return;
    }
    sel.value = theme;
    // console.log("theme done.");
  }

  loadTheme();
</script>
